<!DOCTYPE html>

<html lang="en">

	<head>
		<title>A12: Cookies</title>
	</head>

	<body>
		<label for="new-value">Input Text to be stored in the Cookie: </label><input type="text" id="new-value" name="new-value" required />
		<button type="button" onclick="setCookie();">Submit</button><br>
		
		<script>
			function setCookie(){
				var cook = document.getElementById('new-value').value;
				console.log("test");
				console.log(cook);
				document.cookie = "text=" + cook;
				//window.location.reload();
				//var text = getCookie("text");
				//console.log(document.cookie);
				document.getElementById("new-value").value = '';
				document.getElementById("cookie-display").innerHTML = "Current Cookie: " + cook;
			}
		</script>
		<script>
			function getCookie(cname) {
				let name = cname + "=";
				let decodedCookie = decodeURIComponent(document.cookie);
				let ca = decodedCookie.split(';');
				for(let i = 0; i <ca.length; i++) {
					let c = ca[i];
					while (c.charAt(0) == ' ') {
						 c = c.substring(1);
					}
					if (c.indexOf(name) == 0) {
						return c.substring(name.length, c.length);
					}
				}
				return "";
			}
		</script>
		
		<h1 id="cookie-display">Current Cookie: </h1>
	</body>
	
	<footer>
		<p>&copy; Frank LeFebvre, IS 117 Section 006, April 11, 2023</p> 
	</footer>

</html>